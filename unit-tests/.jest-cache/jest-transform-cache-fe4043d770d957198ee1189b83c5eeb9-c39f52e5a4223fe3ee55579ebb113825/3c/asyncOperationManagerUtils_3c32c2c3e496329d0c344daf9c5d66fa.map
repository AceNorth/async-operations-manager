{"version":3,"sources":["asyncOperationManagerUtils.js"],"names":["Object","defineProperty","exports","value","getAsyncOperationInfo","getStateForOperationAfterStep","getAsyncOperationDescriptor","registerAsyncOperationDescriptors","getAsyncOperation","clearRegisteredAsyncDescriptors","getRegisteredAsyncDescriptors","_lodash","require","_asyncOperationStateUtils","_interopRequireDefault","_config","_asyncOperationDescriptorRegistry","_asyncOperationUtils","_helpers","_constants","_readStepLookup","_writeStepLookup","_transformTypeLookup","obj","__esModule","default","_defineProperty","key","enumerable","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","i","arr2","length","asyncOperationDescriptorRegistry","getAsyncOperationDescriptors","clearAsyncOperationDescriptors","descriptorId","asyncOperationDescriptors","params","asyncOperationDescriptor","asyncOperationParams","getAndValidateParams","asyncOperationKey","generateAsyncOperationKey","otherFields","omit","requiredParams","newAsyncOperationDescriptors","existingAsyncOperationDescriptors","config","getConfig","_len","arguments","otherDescriptors","_key","isEmpty","logger","exceptionsCallback","Error","reduce","acc","updateAsyncOperationDescriptor","setAsyncOperationDescriptors","state","_getAsyncOperationInf","registeredAsyncOperationDescriptors","readStepLookup","ASYNC_OPERATION_STEPS","BEGIN_ASYNC_OPERATION","asyncOperation","beginReadAsyncOperation","RESOLVE_ASYNC_OPERATION","resolveReadAsyncOperation","REJECT_ASYNC_OPERATION","rejectReadAsyncOperation","writeStepLookup","beginWriteAsyncOperation","resolveWriteAsyncOperation","rejectWriteAsyncOperation","transformTypeLookup","ASYNC_OPERATION_TYPES","READ","asyncOperationStep","WRITE","newState","_getAsyncOperationInf2","asyncOperationToTranform","newAsyncOperation","operationType","updateAsyncOperation"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAsyncOperationInfo = exports.getStateForOperationAfterStep = exports.getAsyncOperationDescriptor = exports.registerAsyncOperationDescriptors = exports.getAsyncOperation = exports.clearRegisteredAsyncDescriptors = exports.getRegisteredAsyncDescriptors = void 0;\n\nvar _lodash = require(\"lodash\");\n\nvar _asyncOperationStateUtils = _interopRequireDefault(require(\"./asyncOperationStateUtils\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nvar _asyncOperationDescriptorRegistry = require(\"./asyncOperationDescriptorRegistry\");\n\nvar _asyncOperationUtils = require(\"./asyncOperationUtils\");\n\nvar _helpers = require(\"./helpers\");\n\nvar _constants = require(\"./constants\");\n\nvar _readStepLookup, _writeStepLookup, _transformTypeLookup;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nvar getRegisteredAsyncDescriptors = _asyncOperationDescriptorRegistry.asyncOperationDescriptorRegistry.getAsyncOperationDescriptors;\nexports.getRegisteredAsyncDescriptors = getRegisteredAsyncDescriptors;\nvar clearRegisteredAsyncDescriptors = _asyncOperationDescriptorRegistry.asyncOperationDescriptorRegistry.clearAsyncOperationDescriptors;\nexports.clearRegisteredAsyncDescriptors = clearRegisteredAsyncDescriptors;\n\nvar getAsyncOperationDescriptor = function getAsyncOperationDescriptor(descriptorId) {\n  var asyncOperationDescriptors = _asyncOperationDescriptorRegistry.asyncOperationDescriptorRegistry.getAsyncOperationDescriptors();\n\n  return _asyncOperationStateUtils.default.getAsyncOperationDescriptor(asyncOperationDescriptors, descriptorId);\n};\n\nexports.getAsyncOperationDescriptor = getAsyncOperationDescriptor;\n\nvar getAsyncOperationInfo = function getAsyncOperationInfo(descriptorId, params) {\n  var asyncOperationDescriptor = getAsyncOperationDescriptor(descriptorId);\n  var asyncOperationParams = (0, _helpers.getAndValidateParams)(params, asyncOperationDescriptor);\n  var asyncOperationKey = (0, _helpers.generateAsyncOperationKey)(descriptorId, asyncOperationParams);\n  var otherFields = (0, _lodash.omit)(params, _toConsumableArray(asyncOperationDescriptor.requiredParams));\n  return {\n    asyncOperationDescriptor: asyncOperationDescriptor,\n    asyncOperationParams: asyncOperationParams,\n    asyncOperationKey: asyncOperationKey,\n    otherFields: otherFields\n  };\n};\n\nexports.getAsyncOperationInfo = getAsyncOperationInfo;\n\nvar registerAsyncOperationDescriptors = function registerAsyncOperationDescriptors(asyncOperationDescriptors) {\n  var newAsyncOperationDescriptors;\n\n  var existingAsyncOperationDescriptors = _asyncOperationDescriptorRegistry.asyncOperationDescriptorRegistry.getAsyncOperationDescriptors();\n\n  var config = _config.default.getConfig();\n\n  for (var _len = arguments.length, otherDescriptors = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n    otherDescriptors[_key - 1] = arguments[_key];\n  }\n\n  if (!(0, _lodash.isEmpty)(otherDescriptors)) {\n    config.logger.exceptionsCallback(\"\\n      You provided more than one argument to registerAsyncOperationDescriptors.\\n      You likely forgot to put multiple descriptors within an array\", new Error());\n  } // handle array or single object arguments\n\n\n  if ((0, _lodash.isArray)(asyncOperationDescriptors)) {\n    newAsyncOperationDescriptors = (0, _lodash.reduce)(asyncOperationDescriptors, function (acc, asyncOperationDescriptor) {\n      return _asyncOperationStateUtils.default.updateAsyncOperationDescriptor(acc, asyncOperationDescriptor);\n    }, existingAsyncOperationDescriptors);\n  } else {\n    newAsyncOperationDescriptors = _asyncOperationStateUtils.default.updateAsyncOperationDescriptor(existingAsyncOperationDescriptors, asyncOperationDescriptors);\n  }\n\n  _asyncOperationDescriptorRegistry.asyncOperationDescriptorRegistry.setAsyncOperationDescriptors(newAsyncOperationDescriptors);\n\n  return newAsyncOperationDescriptors;\n}; // TODO: heavy unit testing needed!\n\n\nexports.registerAsyncOperationDescriptors = registerAsyncOperationDescriptors;\n\nvar getAsyncOperation = function getAsyncOperation(state, descriptorId, params, otherFields) {\n  var _getAsyncOperationInf = getAsyncOperationInfo(descriptorId, params),\n      asyncOperationDescriptor = _getAsyncOperationInf.asyncOperationDescriptor,\n      asyncOperationParams = _getAsyncOperationInf.asyncOperationParams,\n      asyncOperationKey = _getAsyncOperationInf.asyncOperationKey;\n\n  var registeredAsyncOperationDescriptors = getRegisteredAsyncDescriptors();\n  return _asyncOperationStateUtils.default.getAsyncOperation(state, registeredAsyncOperationDescriptors, asyncOperationKey, asyncOperationDescriptor, asyncOperationParams, otherFields);\n}; // switchboard for resolving the Read operation steps\n\n\nexports.getAsyncOperation = getAsyncOperation;\nvar readStepLookup = (_readStepLookup = {}, _defineProperty(_readStepLookup, _constants.ASYNC_OPERATION_STEPS.BEGIN_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.beginReadAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _defineProperty(_readStepLookup, _constants.ASYNC_OPERATION_STEPS.RESOLVE_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.resolveReadAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _defineProperty(_readStepLookup, _constants.ASYNC_OPERATION_STEPS.REJECT_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.rejectReadAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _readStepLookup); // switchboard for resolving Write operation steps\n\nvar writeStepLookup = (_writeStepLookup = {}, _defineProperty(_writeStepLookup, _constants.ASYNC_OPERATION_STEPS.BEGIN_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.beginWriteAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _defineProperty(_writeStepLookup, _constants.ASYNC_OPERATION_STEPS.RESOLVE_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.resolveWriteAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _defineProperty(_writeStepLookup, _constants.ASYNC_OPERATION_STEPS.REJECT_ASYNC_OPERATION, function (asyncOperation, asyncOperationParams, otherFields) {\n  return (0, _asyncOperationUtils.rejectWriteAsyncOperation)(asyncOperation, asyncOperationParams, otherFields);\n}), _writeStepLookup); // first switchboard to transform an async operation\n\nvar transformTypeLookup = (_transformTypeLookup = {}, _defineProperty(_transformTypeLookup, _constants.ASYNC_OPERATION_TYPES.READ, function (asyncOperation, asyncOperationStep, asyncOperationParams, otherFields) {\n  return readStepLookup[asyncOperationStep](asyncOperation, asyncOperationParams, otherFields);\n}), _defineProperty(_transformTypeLookup, _constants.ASYNC_OPERATION_TYPES.WRITE, function (asyncOperation, asyncOperationStep, asyncOperationParams, otherFields) {\n  return writeStepLookup[asyncOperationStep](asyncOperation, asyncOperationParams, otherFields);\n}), _transformTypeLookup); // this function is called in the reducer (in redux integration)\n\nvar getStateForOperationAfterStep = function getStateForOperationAfterStep(state, asyncOperationStep, descriptorId, params) {\n  var newState = state;\n\n  var _getAsyncOperationInf2 = getAsyncOperationInfo(descriptorId, params),\n      asyncOperationDescriptor = _getAsyncOperationInf2.asyncOperationDescriptor,\n      asyncOperationParams = _getAsyncOperationInf2.asyncOperationParams,\n      asyncOperationKey = _getAsyncOperationInf2.asyncOperationKey,\n      otherFields = _getAsyncOperationInf2.otherFields;\n\n  var asyncOperationToTranform = getAsyncOperation(state, descriptorId, asyncOperationParams, otherFields);\n  var newAsyncOperation = transformTypeLookup[asyncOperationDescriptor.operationType](asyncOperationToTranform, asyncOperationStep, asyncOperationParams, otherFields);\n  newState = _asyncOperationStateUtils.default.updateAsyncOperation(state, asyncOperationKey, newAsyncOperation, asyncOperationDescriptor);\n  return newState;\n};\n\nexports.getStateForOperationAfterStep = getStateForOperationAfterStep;"]}