{"version":3,"sources":["helpers.js"],"names":["Object","defineProperty","exports","value","getAndValidateParams","generateAsyncOperationKey","makeConstantsObject","require","_lodash","_interopRequireDefault","_config","obj","__esModule","default","sourceValues","arguments","length","undefined","extraOverrides","freeze","assign","keyBy","descriptorId","requiredParams","config","getConfig","isString","logger","exceptionsCallback","values","join","paramsToCheck","asyncOperationDescriptor","asyncOperationParams","_asyncOperationManger","pick","every","partial","has","some","paramValue"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AAC3CC,SAAO;AADoC,CAA7C;AAGAD,QAAQE,oBAAR,GAA+BF,QAAQG,yBAAR,GAAoCH,QAAQI,mBAAR,GAA8B,KAAK,CAAtG;;AAEAC,QAAQ,kCAAR;;AAEA,IAAIC,UAAUC,uBAAuBF,QAAQ,QAAR,CAAvB,CAAd;;AAEA,IAAIG,UAAUD,uBAAuBF,QAAQ,UAAR,CAAvB,CAAd;;AAEA,SAASE,sBAAT,CAAgCE,GAAhC,EAAqC;AAAE,SAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEE,SAASF,GAAX,EAArC;AAAwD;;AAE/F;AACA,MAAML,sBAAsB,SAASA,mBAAT,GAA+B;AACzD,MAAIQ,eAAeC,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAAvF;AACA,MAAIG,iBAAiBH,UAAUC,MAAV,GAAmB,CAAnB,IAAwBD,UAAU,CAAV,MAAiBE,SAAzC,GAAqDF,UAAU,CAAV,CAArD,GAAoE,EAAzF;AACA,SAAOf,OAAOmB,MAAP,EAAe;AACtBX,UAAQK,OAAR,CAAgBO,MAAhB,CAAuBZ,QAAQK,OAAR,CAAgBQ,KAAhB,CAAsBP,YAAtB,CAAvB,EAA4DI,cAA5D,CADO,CAAP;AAED,CALD;;AAOAhB,QAAQI,mBAAR,GAA8BA,mBAA9B;;AAEA,MAAMD,4BAA4B,CAACiB,YAAD,EAAeC,cAAf,KAAkC;AAClE,QAAMC,SAASd,QAAQG,OAAR,CAAgBY,SAAhB,EAAf;;AAEA,MAAI,CAACH,YAAD,IAAiB,CAACd,QAAQK,OAAR,CAAgBa,QAAhB,CAAyBJ,YAAzB,CAAtB,EAA8D;AAC5DE,WAAOG,MAAP,CAAcC,kBAAd,CAAiC,0EAAjC;AACD;;AAED,MAAIL,cAAJ,EAAoB;AAClB,WAAQ,GAAED,YAAa,IAAGd,QAAQK,OAAR,CAAgBgB,MAAhB,CAAuBN,cAAvB,EAAuCO,IAAvC,CAA4C,GAA5C,CAAiD,EAA3E;AACD;;AAED,SAAOR,YAAP;AACD,CAZD;;AAcApB,QAAQG,yBAAR,GAAoCA,yBAApC;;AAEA,MAAMD,uBAAuB,CAAC2B,aAAD,EAAgBC,wBAAhB,KAA6C;AACxE,MAAIC,uBAAuB,IAA3B;;AAEA,QAAMC,wBAAwBxB,QAAQG,OAAR,CAAgBY,SAAhB,EAA9B;AAAA,QACME,SAASO,sBAAsBP,MADrC;;AAGA,MAAIK,yBAAyBT,cAA7B,EAA6C;AAC3CU,2BAAuBD,yBAAyBT,cAAzB,GAA0Cf,QAAQK,OAAR,CAAgBsB,IAAhB,CAAqBJ,aAArB,EAAoCC,yBAAyBT,cAA7D,CAA1C,GAAyH,IAAhJ;;AAEA,QAAI,CAACf,QAAQK,OAAR,CAAgBuB,KAAhB,CAAsBJ,yBAAyBT,cAA/C,EAA+Df,QAAQK,OAAR,CAAgBwB,OAAhB,CAAwB7B,QAAQK,OAAR,CAAgByB,GAAxC,EAA6CL,oBAA7C,CAA/D,CAAD,IAAuIA,wBAAwBzB,QAAQK,OAAR,CAAgB0B,IAAhB,CAAqBN,oBAArB,EAA2CO,cAAc,CAACA,UAA1D,CAAnK,EAA0O;AACxO;AACAb,aAAOC,kBAAP,CAA2B;wBACTI,yBAAyBV,YAAa;qCACzBW,oBAAqB;4BAC9BD,yBAAyBT,cAAe;OAH9D;AAKD;AACF;;AAED,SAAOU,oBAAP;AACD,CApBD;;AAsBA/B,QAAQE,oBAAR,GAA+BA,oBAA/B","file":"helpers.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAndValidateParams = exports.generateAsyncOperationKey = exports.makeConstantsObject = void 0;\n\nrequire(\"core-js/modules/web.dom.iterable\");\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// TODO: JSDocify every function\nconst makeConstantsObject = function makeConstantsObject() {\n  let sourceValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  let extraOverrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.freeze( // The keyBy create our keys-and-values object, then we manipulate it and freeze it.s\n  _lodash.default.assign(_lodash.default.keyBy(sourceValues), extraOverrides));\n};\n\nexports.makeConstantsObject = makeConstantsObject;\n\nconst generateAsyncOperationKey = (descriptorId, requiredParams) => {\n  const config = _config.default.getConfig();\n\n  if (!descriptorId || !_lodash.default.isString(descriptorId)) {\n    config.logger.exceptionsCallback('A descriptorId string to create the async operation key was not provided');\n  }\n\n  if (requiredParams) {\n    return `${descriptorId}_${_lodash.default.values(requiredParams).join('_')}`;\n  }\n\n  return descriptorId;\n};\n\nexports.generateAsyncOperationKey = generateAsyncOperationKey;\n\nconst getAndValidateParams = (paramsToCheck, asyncOperationDescriptor) => {\n  let asyncOperationParams = null;\n\n  const _asyncOperationManger = _config.default.getConfig(),\n        logger = _asyncOperationManger.logger;\n\n  if (asyncOperationDescriptor.requiredParams) {\n    asyncOperationParams = asyncOperationDescriptor.requiredParams ? _lodash.default.pick(paramsToCheck, asyncOperationDescriptor.requiredParams) : null;\n\n    if (!_lodash.default.every(asyncOperationDescriptor.requiredParams, _lodash.default.partial(_lodash.default.has, asyncOperationParams)) || asyncOperationParams && _lodash.default.some(asyncOperationParams, paramValue => !paramValue)) {\n      // This warning is here just to catch typos\n      logger.exceptionsCallback(`\n        It looks like ${asyncOperationDescriptor.descriptorId} is missing a param/requiredParams.\n        requiredParams provided: : ${asyncOperationParams}\n        requiredParams: : ${asyncOperationDescriptor.requiredParams}\n      `);\n    }\n  }\n\n  return asyncOperationParams;\n};\n\nexports.getAndValidateParams = getAndValidateParams;"]}