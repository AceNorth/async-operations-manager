{"version":3,"sources":["helpers.js"],"names":["Object","defineProperty","exports","value","getAndValidateParams","generateAsyncOperationKey","makeConstantsObject","_lodash","_interopRequireDefault","require","_config","obj","__esModule","default","sourceValues","arguments","length","undefined","extraOverrides","freeze","assign","keyBy","descriptorId","requiredParams","config","getConfig","isString","logger","exceptionsCallback","concat","values","join","paramsToCheck","asyncOperationDescriptor","asyncOperationParams","_asyncOperationManger","pick","every","partial","has","some","paramValue"],"mappings":"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","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAndValidateParams = exports.generateAsyncOperationKey = exports.makeConstantsObject = void 0;\n\nvar _lodash = _interopRequireDefault(require(\"lodash\"));\n\nvar _config = _interopRequireDefault(require(\"./config\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// TODO: JSDocify every function\nvar makeConstantsObject = function makeConstantsObject() {\n  var sourceValues = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var extraOverrides = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return Object.freeze( // The keyBy create our keys-and-values object, then we manipulate it and freeze it.s\n  _lodash.default.assign(_lodash.default.keyBy(sourceValues), extraOverrides));\n};\n\nexports.makeConstantsObject = makeConstantsObject;\n\nvar generateAsyncOperationKey = function generateAsyncOperationKey(descriptorId, requiredParams) {\n  var config = _config.default.getConfig();\n\n  if (!descriptorId || !_lodash.default.isString(descriptorId)) {\n    config.logger.exceptionsCallback('A descriptorId string to create the async operation key was not provided');\n  }\n\n  if (requiredParams) {\n    return \"\".concat(descriptorId, \"_\").concat(_lodash.default.values(requiredParams).join('_'));\n  }\n\n  return descriptorId;\n};\n\nexports.generateAsyncOperationKey = generateAsyncOperationKey;\n\nvar getAndValidateParams = function getAndValidateParams(paramsToCheck, asyncOperationDescriptor) {\n  var asyncOperationParams = null;\n\n  var _asyncOperationManger = _config.default.getConfig(),\n      logger = _asyncOperationManger.logger;\n\n  if (asyncOperationDescriptor.requiredParams) {\n    asyncOperationParams = asyncOperationDescriptor.requiredParams ? _lodash.default.pick(paramsToCheck, asyncOperationDescriptor.requiredParams) : null;\n\n    if (!_lodash.default.every(asyncOperationDescriptor.requiredParams, _lodash.default.partial(_lodash.default.has, asyncOperationParams)) || asyncOperationParams && _lodash.default.some(asyncOperationParams, function (paramValue) {\n      return !paramValue;\n    })) {\n      // This warning is here just to catch typos\n      logger.exceptionsCallback(\"\\n        It looks like \".concat(asyncOperationDescriptor.descriptorId, \" is missing a param/requiredParams.\\n        requiredParams provided: : \").concat(asyncOperationParams, \"\\n        requiredParams: : \").concat(asyncOperationDescriptor.requiredParams, \"\\n      \"));\n    }\n  }\n\n  return asyncOperationParams;\n};\n\nexports.getAndValidateParams = getAndValidateParams;"]}